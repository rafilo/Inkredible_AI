<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Puzzled</title>

        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="center-wrapper">
            <div>
                <h3>welcome to login page for Inkredible AI! We just need to know you is u</h3>
                <h3>To enter your personeel information, use Arrow keys to move and ENTER to go to the next field</h3>
            </div>
            <div class="login-wrapper">
                <h1>Enter your credentials</h1>
                <input type="email" name="email-box" id="email-box" placeholder="Email @" readonly>
                <input type="password" name="pass-box" id="pass-box" placeholder="pass****" readonly>
                <button type="button" name="login-btn" id="login-btn" onclick="checkInput()">Login</button>
            </div>
        </div>

        <div id="catcher"></div>
    </body>

    <script src="script.js"></script>
    <script>
        function checkInput(){
            const email = document.getElementById('email-box').value;
            const pass = document.getElementById('pass-box').value;
            let invalidInput = false;
            if (email.indexOf("@") == -1 || email.indexOf("@") == 0){
                invalidInput = true
            }
            var emailReg = /[^A-Za-z0-9@\.]/
            if(!emailReg.test(email)){
                invalidInput = true
            }
            const regularExpression = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/
            const minNumberofChars = 6;
            const maxNumberofChars = 16;
            if(pass.length < minNumberofChars || pass.length > maxNumberofChars){
                invalidInput = true
            }
            if(!regularExpression.test(pass)){
                invalidInput = true
            }
            if(invalidInput){
                const alertMessage = "invalid email and password, sadge :("
                alert(alertMessage)
            } else {
                console.log(passed)
            }
        }
        function jumpToAI(){
            var chance = Math.random();
            if (chance > 0){

                window.open("http://localhost:5173/chat", "_blank");
            }
            document.getElementById("cheat-button").remove()
            
        }
        function addCheatButton(){
            var cheatButton = document.createElement('button');
            document.body.appendChild(cheatButton);
            cheatButton.innerHTML = "end suffering?"
            cheatButton.id = "cheat-button"
            cheatButton.style.position = "absolute"
            cheatButton.style.top = "0px"
            cheatButton.style.left = "0px"
            cheatButton.style.zIndex = "9999"
            cheatButton.style.backgroundColor = "#1aff4f"
            cheatButton.style.color = "white"
            cheatButton.style.width = "100px"
            cheatButton.style.height = "50px"
            cheatButton.style.borderRadius = "20px"
            document.getElementById("cheat-button").onclick = jumpToAI
        }
        function removeCheatButton(){
            if (document.getElementById("cheat-button")){
                document.getElementById("cheat-button").remove()
            }
            
        }
        
        //addCheatButton()
        
        setInterval(()=>{
            removeCheatButton()
            addCheatButton()
        },30000)
        
    </script>
</html>